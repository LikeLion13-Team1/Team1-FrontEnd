<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>마이페이지</title>
    <link rel="stylesheet" href="../styles/global.css" />
    <link rel="stylesheet" href="../styles/mypage.css" />
    <link rel="stylesheet" href="../styles/sidebar.css" />
    <link rel="stylesheet" href="../styles/header.css" />
  </head>
  <body>
    <header class="main-header"><div id="header"></div></header>
    <div class="main">
      <aside class="aside"><div id="sidebar"></div></aside>
      <section class="content">
          <div class="main-container">
          <!-- 내 정보 -->
            <section class="user-info">
              <h2><img src="../assets/profile.png" alt="내 정보 아이콘" /> 내 정보</h2>
              <div class="user-info-box">
                <div class="profile-column">
                  <img src="../assets/bot.png" alt="프로필 이미지" class="profile-img" />
                </div>
                <div class="info-grid">
                  <div class="info-row">
                    <span>닉네임</span>
                    <strong id="nickname"></strong>
                  </div>
                  <div class="info-row">
                    <span>이메일</span>
                    <strong id="email"></strong>
                  </div>
                  <div class="info-row">
                    <span>함께한지</span>
                    <strong id="joindays"></strong>
                  </div>
                  <div class="info-row">
                    <span>비밀번호</span>
                    <button class="edit-btn" id="editBtn">수정</button>                  </div>
                </div>
              </div>
            </section>


          <!-- 루틴 & 히스토리 영역 -->
          <div class="middle-boxes">
            <!-- 내 루틴 -->
            <section class="routine-box">
              <h2><img src="../assets/routine.png" alt="내 루틴 아이콘" /> 내 루틴</h2>
              <ul class="routine-list">
                <li>
                  <strong>루틴 1</strong>
                  <span>매일 아침 저녁 정리 루틴 세트</span>
                  <button class="go-btn" data-url="routine1.html">바로가기</button> <!--페이지 이동형-->
                </li>
                <li>
                  <strong>루틴 2</strong>
                  <span class="empty">루틴이 비어있어요.</span>
                  <button class="go-btn" data-url="routineset.html">바로가기</button>
                </li>
                <li>
                  <strong>루틴 3</strong>
                  <span class="empty">루틴이 비어있어요.</span>
                  <button class="go-btn" data-url="emptyroutine.html">바로가기</button>
                </li>
                <li>
                  <strong>루틴 4</strong>
                  <span class="empty">멤버십에 가입 후 이용해 보세요.</span>
                </li>
              </ul>
              <a href="#" class="membership-note">멤버십에 가입하시면 루틴을 무제한으로 이용할 수 있어요.</a>
            </section>

            <!-- 히스토리 (틀만) -->
            <section class="history-box">
              <h2><img src="../assets/history.png" alt="히스토리 아이콘" /> 히스토리</h2>                            
              <ul class="history-list">
                <li>
                  <strong class="history-date"></strong>
                  <span class="dot">·</span>
                  <span></span>
                  <button class="arrow-btn openPageBtn" data-date="YYYY-MM-DD">&gt;</button>                </li>
                <li>
                  <strong class="history-date"></strong>
                  <span class="dot">·</span>
                  <span></span>
                  <button class="arrow-btn openPageBtn" data-date="YYYY-MM-DD">&gt;</button>                </li>
                <li>
                  <strong class="history-date"></strong>
                  <span class="dot">·</span>
                  <span></span>
                  <button class="arrow-btn openPageBtn" data-date="YYYY-MM-DD">&gt;</button>                </li>
                <li>
                  <strong class="history-date"></strong>
                  <span class="dot">·</span>
                  <span></span>
                  <button class="arrow-btn openPageBtn" data-date="YYYY-MM-DD">&gt;</button>                </li>
              </ul>
              <button class="show-btn" id="showBtn">&gt;</button>
            </section>
          </div>

          <!-- 계정 설정 -->
            <section class="setting">
              <h2><img src="../assets/setting.png" alt="계정 설정 아이콘" /> 계정 설정</h2>
              <div class="settings-box">
                <div class="settings-grid">
                  <div class="setting-row">
                    <span>알림</span>
                    <label class="toggle-switch">
                      <input type="checkbox" checked />
                      <span class="slider"></span>
                    </label>
                  </div>
                  <div class="setting-row">
                    <span>로그아웃</span>
                    <button class="arrow-btn" id="logoutBtn">&gt;</button> <!--모달형-->
                  </div>
                  <div class="setting-row">
                    <span>도움말</span>
                    <button class="arrow-btn" id="helpBtn">&gt;</button>
                  </div>              
                  <div class="setting-row">
                    <span>탈퇴하기</span>
                    <button class="arrow-btn" id="deleteBtn">&gt;</button>
                  </div>
                </div>
              </div>
            </section>
          </div>
        </div>

    <!-- 도움말 모달 -->
    <div id="helpModal" class="modal">
      <div class="modal-content1">
        <span class="close">&times;</span>
        <h3>살리미 사용 가이드</h3>
        <hr class="long-line">
        <p class="Q">[시작하기] 어떻게 시작하나요?</p>
        <p class="A"><strong>로그인 후</strong>, "나만의 루틴 찾기"에서 질문에 답하면 당신에게 딱 맞는 <strong>살림루틴</strong>을 추천해 드려요!</p>
        <p class="Q">[루틴 보기] 루틴은 어디서 보나요?</p>
        <p class="A">추천받은 루틴은 <strong>&lt;루틴1, 루틴2,루틴3&gt;메뉴</strong>에서 확인할 수 있어요.</p>
        <p class="A">이 루틴은 캘린더에서도 확인 가능합니다.</p>
        <p class="Q">[루틴 추가] 직접 루틴을 추가하고 싶어요!</p>
        <p class="A">&lt;루틴1&gt;에서 예시 루틴을 선택하거나,</p>
        <p class="A">원하는 일정을 직접 추가해 <strong>나만의 루틴 세트</strong>를 만들 수 있어요.</p>
        <p class="Q">[살리미 챗봇] 챗봇은 어떤 기능을 하나요??</p>
        <p class="A">'살리미 챗봇' 메뉴에서 "오늘 뭐하면 좋을까?", "간단한 살림 팁 알려줘" 같은 질문을 해보세요!</p>
        <p class="A"><strong>가볍게 묻고, 바로 대답받는 AI비서</strong>예요.</p>
        <p class="Q">[마이페이지]] 마이페이지에선 뭘 할 수 있나요?</p>
        <p class="A">내가 선택한 루틴, 캘린더 일정 등을 <strong>한눈에 관리</strong>할 수 있어요.</p>
      </div>
    </div>

    <!-- 비밀번호 수정 모달 -->
    <div id="editModal" class="modal">
      <div class="modal-content2">
        <span class="close">&times;</span>
        <h3>비밀번호 수정</h3>
        <hr class="long-line">
        <div class="form-group">
          <label>기존 비밀번호</label>
          <input type="password" id="currentPassword" />
          <label>변경 비밀번호</label>
          <input type="password" id="newPassword" />
          <label>변경 비밀번호 확인</label>
          <input type="password" id="newPasswordConfirm" />
          <button class="complete-btn" id="completeBtn">수정하기</button>
        </div>
      </div>
    </div>

    <!-- 로그아웃 모달 -->
    <div id="logoutModal" class="modal">
      <div class="modal-content3">
        <p class="check">로그아웃하시겠습니까?</p>
        <div class="modal-btn-group">
          <button id="confirmLogout" class="confirm">예</button>
          <button id="cancelLogout" class="cancel">아니요</button>
        </div>
      </div>
    </div>

    <!-- 탈퇴하기 모달 -->
    <div id="deleteModal" class="modal">
      <div class="modal-content3">
        <p class="check">정말 탈퇴하시겠습니까?</p>
        <div class="modal-btn-group">
          <button id="confirmDelete" class="confirm">예</button>
          <button id="cancelDelete" class="cancel">아니요</button>
        </div>
      </div>
    </div>

    <script type="module" src="../js/auth/authCheck.js"></script>
    <script type="module">
      import { loadSidebar } from "../js/loadSidebar.js";
      loadSidebar();
    </script>
    <script type="module">
      import { loadHeader } from "../js/loadHeader.js";
      loadHeader();
    </script>
    <script type="module" src="../js/mypage.js"></script>
    <script type="module" src="../js/calendar.js"></script>
  </body>
</html>
